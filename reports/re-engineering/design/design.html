<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2K.1beta (1.47)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Re-Engineering the Finite Element Library: The Transformation of a Legacy Fortran Library</TITLE>
<META NAME="description" CONTENT="Re-Engineering the Finite Element Library: The Transformation of a Legacy Fortran Library">
<META NAME="keywords" CONTENT="design">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2K.1beta">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="design.css">

<LINK REL="next" HREF="node1.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html1"
  HREF="node1.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_g.png"> 
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev_g.png">   
<BR>
<B> Next:</B> <A NAME="tex2html2"
  HREF="node1.html">Introduction</A>
<BR>
<BR>
<!--End of Navigation Panel-->

<P>
<H1 ALIGN="CENTER">Re-Engineering the Finite Element Library: 
<BR>
The Transformation of
 a Legacy Fortran Library</H1>
<P ALIGN="CENTER"><STRONG>Dr C Greenough</STRONG></P>
<P ALIGN="CENTER"><STRONG>October 2003</STRONG></P>
<H3>Abstract:</H3>
<DIV> The Finite Element Library (<TT>FELIB</TT>) [<A
 HREF="node23.html#felib1">1</A>,<A
 HREF="node23.html#felib2">2</A>,<A
 HREF="node23.html#felib3">3</A>] was 
first designed and implemented in the early 1980s and since then 
there have been four releases of the software - Release 4 is the 
current release.

Many individuals and groups have made use of <TT>FELIB</TT> in developing
finite element based applications and in the teaching of finite
element techniques. Some 3000 known copies of the library are known
to exist (through monitoring <I>httpd</I> and <I>ftp</I> accessing) and there are
probably many other copies obtained through third parties.

This report details the re-design and re-engineering of the original Fortran&nbsp;77 
<TT>FELIB</TT> to make use of the new features of Fortran&nbsp;90/95. This process provides
a very useful way in assessing some of the software tools which can assist in
this transformation and re-design. The report contains short summaries
on tool such as <TT>TOOLPACK</TT> and <TT>plusFORT</TT> used in this work.

The basic design&nbsp;goals are discussed in light of Fortran&nbsp;90/95 features and 
methods of implementation detailed. There is a short debate on whether to use
<TT>POINTER</TT>s to arrays or <TT>ALLOCATABLE</TT> arrays and the overall <TT>MODULE</TT>
structure of this implementation is described.

Full details of the Fortran&nbsp;77 and Fortran&nbsp;90/95 versions of <TT>FELIB</TT>
are to found on the Mathematical Software Group Web site under 
<TT>FELIB</TT>.
</DIV>
<P>
<P>
<B>Keywords: </B>finite element, library design, Fortran 95, legacy software

<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"></A>

<UL>
<LI><A NAME="tex2html3"
  HREF="node1.html">Introduction</A>
<LI><A NAME="tex2html4"
  HREF="node2.html">Design goals - old and new</A>
<LI><A NAME="tex2html5"
  HREF="node3.html">Use of Fortran&nbsp;90/95 features</A>
<UL>
<LI><A NAME="tex2html6"
  HREF="node4.html">Array features</A>
<LI><A NAME="tex2html7"
  HREF="node5.html">Dynamic storage allocation</A>
<LI><A NAME="tex2html8"
  HREF="node6.html">Optional arguments</A>
<LI><A NAME="tex2html9"
  HREF="node7.html">Generic routines</A>
<LI><A NAME="tex2html10"
  HREF="node8.html">Intrinsic functions</A>
</UL>
<BR>
<LI><A NAME="tex2html11"
  HREF="node9.html">Management of dynamic arrays</A>
<LI><A NAME="tex2html12"
  HREF="node10.html">Library construction</A>
<LI><A NAME="tex2html13"
  HREF="node11.html">Program definitions</A>
<LI><A NAME="tex2html14"
  HREF="node12.html">An example program</A>
<LI><A NAME="tex2html15"
  HREF="node13.html">An example of program <I>notes</I></A>
<LI><A NAME="tex2html16"
  HREF="node14.html">The transformation process</A>
<LI><A NAME="tex2html17"
  HREF="node15.html">Some notes on development tools</A>
<UL>
<LI><A NAME="tex2html18"
  HREF="node16.html">Source code transformers</A>
<LI><A NAME="tex2html19"
  HREF="node17.html">The <TT>TOOLPACK</TT> Suite</A>
<LI><A NAME="tex2html20"
  HREF="node18.html"><TT>plusFORT</TT></A>
<LI><A NAME="tex2html21"
  HREF="node19.html"><TT>NAGWare</TT> Tools</A>
<LI><A NAME="tex2html22"
  HREF="node20.html">Memory checking</A>
<LI><A NAME="tex2html23"
  HREF="node21.html">Case transformer: <TT>istuc</TT></A>
</UL>
<BR>
<LI><A NAME="tex2html24"
  HREF="node22.html">Conclusions</A>
<LI><A NAME="tex2html25"
  HREF="node23.html">Bibliography</A>
<LI><A NAME="tex2html26"
  HREF="node24.html">Appendix A - Reduced Fortran&nbsp;90/95 version of Seg3p1</A>
<LI><A NAME="tex2html27"
  HREF="node25.html">About this document ...</A>
</UL>
<!--End of Table of Child-Links-->
<HR>
<!--Navigation Panel-->
<A NAME="tex2html1"
  HREF="node1.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_g.png"> 
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev_g.png">   
<BR>
<B> Next:</B> <A NAME="tex2html2"
  HREF="node1.html">Introduction</A>
<!--End of Navigation Panel-->
<ADDRESS>

2004-02-24
</ADDRESS>
</BODY>
</HTML>
